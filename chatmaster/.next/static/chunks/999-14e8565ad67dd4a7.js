(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[999],{47999:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return ew}});var r,n,i=s(57437),a=s(2265);s(23622);var o=s(77699),l=s(16463),d=s(23580),c=s(74340),h=s(87083),u=s(40191),x=s(10114),p=s(47414),m=s(38472),g=s(51464),j=s(20610),f=s(6005),y=s(1371),C=s(52249),b=s(85222),_=s(86493),v=s(20408),w=s(19769),S=s(44379),k=s(1726),E=s(85789),F=s(75085),I=s(88291),A=e=>{let{user:t,handleFunction:s,admin:r}=e;return(0,i.jsxs)(I.C,{px:2,py:1,borderRadius:"lg",m:1,mb:2,variant:"solid",fontSize:12,colorScheme:"purple",cursor:"pointer",onClick:s,children:[t.name,r===t._id&&(0,i.jsx)("span",{children:" (Admin)"}),(0,i.jsx)(F.T,{pl:1})]})},q=s(11308),z=e=>{let{user:t,handleFunction:s}=e;return(0,i.jsxs)(c.xu,{onClick:s,cursor:"pointer",bg:"#E8E8E8",_hover:{background:"#38B2AC",color:"white"},width:"100%",display:"flex",alignItems:"center",color:"black",paddingX:3,paddingY:2,marginBottom:2,borderRadius:"lg",children:[(0,i.jsx)(q.q,{marginRight:2,size:"sm",cursor:"pointer",name:t.name,src:t.pic}),(0,i.jsxs)(c.xu,{children:[(0,i.jsx)(u.x,{children:t.name}),(0,i.jsxs)(u.x,{fontSize:"xs",children:[(0,i.jsx)("b",{children:"Email : "}),t.email]})]})]})},O=e=>{let{children:t,setFetchAgain:s}=e,{isOpen:r,onOpen:n,onClose:l}=(0,g.q)(),[d,h]=(0,a.useState)(),[u,x]=(0,a.useState)([]),[F,I]=(0,a.useState)(""),[q,O]=(0,a.useState)([]),[P,G]=(0,a.useState)(!1),T=(0,j.p)(),[N]=(0,o.Vt)(),{user:U,chats:R,setChats:L}=(0,E.g)(),Z=e=>{if(u.includes(e)){T({title:"User already added",status:"warning",duration:5e3,isClosable:!0,position:"top"});return}x([...u,e])},B=async e=>{if(I(e),e)try{G(!0),encodeURIComponent(e);let{data:t}=await m.Z.get("http://localhost:8000/api/v1/search?search=".concat(F),{withCredentials:!0});O(t.users),G(!1)}catch(e){T({title:"Error Occurred!",description:"Failed to Load the Search Results",status:"error",duration:5e3,isClosable:!0,position:"bottom-left"}),G(!1)}},W=e=>{x(u.filter(t=>t._id!==e._id))},D=async()=>{if(!d||0===u.length){T({title:"Please fill all the fields",status:"warning",duration:5e3,isClosable:!0,position:"top"});return}try{let e={name:d,users:u.map(e=>e._id)};await N(e),L([e,...R]),l(),s(e=>!e),T({title:"New Group Chat Created!",status:"success",duration:5e3,isClosable:!0,position:"bottom"})}catch(e){T({title:"Failed to Create the Chat!",description:e.response,status:"error",duration:5e3,isClosable:!0,position:"bottom"})}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{onClick:n,children:t}),(0,i.jsxs)(f.u_,{onClose:l,isOpen:r,isCentered:!0,children:[(0,i.jsx)(y.Z,{}),(0,i.jsxs)(C.h,{children:[(0,i.jsx)(b.x,{fontSize:"35px",fontFamily:"Work sans",textAlign:"center",children:"Create Group Chat"}),(0,i.jsx)(_.o,{}),(0,i.jsxs)(v.f,{children:[(0,i.jsx)(w.NI,{children:(0,i.jsx)(S.I,{placeholder:"Chat Name",mb:3,onChange:e=>h(e.target.value)})}),(0,i.jsx)(w.NI,{children:(0,i.jsx)(S.I,{placeholder:"Add Users eg: John, Piyush, Jane",mb:1,onChange:e=>B(e.target.value)})}),(0,i.jsx)(c.xu,{w:"100%",d:"flex",flexWrap:"wrap",children:u.map(e=>(0,i.jsx)(A,{user:e,handleFunction:()=>W(e)},e._id))}),P?(0,i.jsx)("div",{children:"Loading..."}):null==q?void 0:q.map(e=>(0,i.jsx)(z,{user:e,handleFunction:()=>Z(e)},e._id))]}),(0,i.jsx)(k.m,{children:(0,i.jsx)(p.z,{onClick:D,colorScheme:"blue",children:"Create Chat"})})]})]})]})},P=s(19704),G=e=>{let{loggedUser:t,fetchAgain:s,setFetchAgain:r}=e,[n,o]=(0,a.useState)([]),{selectedChat:l,setSelectedChat:d}=(0,E.g)(),[g,j]=(0,a.useState)(!0),f=(e,t)=>{var s;return e&&t&&!(t.length<2)?(null===(s=t[0])||void 0===s?void 0:s._id)===(null==e?void 0:e._id)?t[1].name:t[0].name:"Click on a user to start chatting"},y=async()=>{try{j(!0);let{data:e}=await m.Z.get("http://localhost:8000/api/v1/chat/connectedChats",{withCredentials:!0});o(e.AllChats),j(!1)}catch(e){console.error("Error fetching chats:",e),j(!1)}};return(0,a.useEffect)(()=>{y()},[s]),(0,i.jsxs)(c.xu,{display:{base:l?"none":"flex",md:"flex"},flexDirection:"column",alignItems:"center",padding:3,background:"#ccdffc",width:{base:"100%",md:"35%",lg:"40%"},height:"100%",children:[(0,i.jsxs)(c.xu,{pb:3,px:3,fontSize:{base:"28px",md:"30px"},fontFamily:"Work sans",display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center",children:["My Chats",(0,i.jsx)(O,{setFetchAgain:r,children:(0,i.jsx)(p.z,{d:"flex",fontSize:{base:"17px",md:"10px",lg:"17px"},rightIcon:(0,i.jsx)(h.d,{}),children:"New Group Chat"})})]}),(0,i.jsx)(c.xu,{display:"flex",flexDirection:"column",width:"100%",children:g?(0,i.jsx)(u.x,{children:"Loading Chats..."}):n&&n.length>0?(0,i.jsx)(x.K,{overflowY:"scroll",height:"78vh",children:n.map(e=>(0,i.jsx)(c.xu,{onClick:()=>d(e),cursor:"pointer",background:l===e?"#3498db":"#FFFFFF",color:l===e?"white":"black",paddingX:3,paddingY:2,borderRadius:"lg",width:"100vm",children:(0,i.jsx)(u.x,{children:e.isGroupChat?e.chatName:f(t,e.users)})},e._id))}):(0,i.jsx)(u.x,{children:"No chats available"})})]})};s(89097);var T=s(61493),N=s(16829),U=s(43587),R=s(76684);let L=(e,t,s,r)=>s<e.length-1&&e[s+1].sender._id===t.sender._id&&e[s].sender._id!==r?33:s<e.length-1&&e[s+1].sender._id!==t.sender._id&&e[s].sender._id!==r||s===e.length-1&&e[s].sender._id!==r?0:"auto",Z=(e,t,s,r)=>s<e.length-1&&(e[s+1].sender._id!==t.sender._id||void 0===e[s+1].sender._id)&&e[s].sender._id!==r,B=(e,t,s)=>t===e.length-1&&e[e.length-1].sender._id!==s&&e[e.length-1].sender._id,W=(e,t,s)=>s>0&&e[s-1].sender._id===t.sender._id;var D=e=>{let{user:t,messages:s}=e;return(0,i.jsx)(P.Z,{children:s&&s.map((e,r)=>(0,i.jsxs)("div",{style:{display:"flex"},children:[(Z(s,e,r,t._id)||B(s,r,t._id))&&(0,i.jsx)(R.u,{label:e.sender.name,placement:"bottom-start",hasArrow:!0,children:(0,i.jsx)(q.q,{mt:"7px",mr:1,size:"sm",cursor:"pointer",name:e.sender.name,src:e.sender.pic})}),(0,i.jsx)("span",{style:{backgroundColor:"".concat(e.sender._id===t._id?"#BEE3F8":"#B9F5D0"),marginLeft:L(s,e,r,t._id),marginTop:W(s,e,r,t._id)?3:10,borderRadius:"20px",padding:"5px 15px",maxWidth:"75%"},children:e.content})]},e._id))})},Y=s(34999),M=s(53200);let{useDisclosure:X,IconButton:J,Modal:K,ModalOverlay:$,ModalContent:Q,ModalHeader:V,ModalCloseButton:H,ModalBody:ee,ModalFooter:et,Button:es,Image:er,Text:en}=s(97349);var ei=e=>{let{user:t,children:s}=e,{isOpen:r,onOpen:n,onClose:a}=X();return(0,i.jsxs)("div",{children:[s?(0,i.jsx)("span",{onClick:n,children:s}):(0,i.jsx)(J,{display:{base:"flex"},icon:(0,i.jsx)(M.O,{}),onClick:n}),(0,i.jsxs)(K,{isOpen:r,onClose:a,size:"lg",isCentered:!0,children:[(0,i.jsx)($,{}),(0,i.jsxs)(Q,{height:"350px",children:[(0,i.jsx)(V,{children:t.name}),(0,i.jsx)(H,{}),(0,i.jsxs)(ee,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",children:[(0,i.jsx)(er,{borderRadius:"full",boxSize:"150px",src:t.pic,alt:t.name}),(0,i.jsxs)(en,{fontSize:{base:"20px",md:"30px"},fontFamily:"work sans",padding:"4px",children:["Email: ",t.email]})]}),(0,i.jsx)(et,{children:(0,i.jsx)(es,{colorScheme:"blue",mr:3,onClick:a,children:"Close"})})]})]})]})},ea=e=>{let{fetchMessages:t,fetchAgain:s,setFetchAgain:r,user:n}=e,{isOpen:l,onOpen:d,onClose:h}=(0,g.q)(),[u,x]=(0,a.useState)(),[F,I]=(0,a.useState)(""),[q,O]=(0,a.useState)([]),[P,G]=(0,a.useState)(!1),[U,R]=(0,a.useState)(!1),[L]=(0,o.wv)(),[Z]=(0,o.B5)(),[B]=(0,o.y3)(),W=(0,j.p)(),{selectedChat:D,setSelectedChat:Y}=(0,E.g)(),X=async e=>{if(I(e),e)try{G(!0);let{data:e}=await m.Z.get("http://localhost:8000/api/v1/search?search=".concat(F),{withCredentials:!0});O(e.users),G(!1)}catch(e){W({title:"Error Occured!",description:"Failed to Load the Search Results",status:"error",duration:5e3,isClosable:!0,position:"bottom-left"}),G(!1)}},J=async()=>{if(u){R(!0);try{let e=await L({chatId:D._id,chatName:u});Y(e.data.chat),r(!s),R(!1)}catch(e){W({title:"Error Occured!",description:response.error.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),R(!1)}x("")}},K=async e=>{if(D.users.find(t=>t._id===e._id)){W({title:"User Already in group!",status:"error",duration:5e3,isClosable:!0,position:"bottom"});return}if(D.groupAdmin._id!==n._id){W({title:"Only admins can add someone!",status:"error",duration:5e3,isClosable:!0,position:"bottom"});return}try{G(!0);let n=await Z({chatId:D._id,userId:e._id});Y(n.data.chat),r(!s),t(),G(!1)}catch(e){W({title:"Error Occured!",description:response.error.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),G(!1)}x("")},$=async e=>{if(D.groupAdmin._id!==n._id&&e._id!==n._id){W({title:"Only admins can remove someone!",status:"error",duration:5e3,isClosable:!0,position:"bottom"});return}try{G(!0);let t=await B({chatId:D._id,userId:e._id});e._id===n._id?Y():Y(t.data.chat),r(!s),G(!1)}catch(e){W({title:"Error Occured!",description:response.error.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),G(!1)}x("")};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(T.h,{display:{base:"flex"},icon:(0,i.jsx)(M.O,{}),onClick:d}),(0,i.jsxs)(f.u_,{onClose:h,isOpen:l,isCentered:!0,children:[(0,i.jsx)(y.Z,{}),(0,i.jsxs)(C.h,{children:[(0,i.jsx)(b.x,{fontSize:"35px",fontFamily:"Work sans",display:"flex",justifyContent:"center",children:D.chatName}),(0,i.jsx)(_.o,{}),(0,i.jsxs)(v.f,{display:"flex",flexDirection:"column",alignItems:"center",children:[(0,i.jsx)(c.xu,{width:"100%",display:"flex",flexWrap:"wrap",pb:3,children:D.users.map(e=>(0,i.jsx)(A,{user:e,admin:D.groupAdmin,handleFunction:()=>$(e)},e._id))}),(0,i.jsxs)(w.NI,{display:"flex",children:[(0,i.jsx)(S.I,{placeholder:"Chat Name",minBlockSize:3,value:u,onChange:e=>x(e.target.value)}),(0,i.jsx)(p.z,{variant:"solid",colorScheme:"teal",marginLeft:1,isLoading:U,onClick:J,children:"Update"})]}),(0,i.jsx)(w.NI,{children:(0,i.jsx)(S.I,{placeholder:"Add User to group",minBlockSize:1,onChange:e=>X(e.target.value)})}),P?(0,i.jsx)(N.$,{size:"lg"}):null==q?void 0:q.map(e=>(0,i.jsx)(z,{user:e,handleFunction:()=>K(e)},e._id))]}),(0,i.jsx)(k.m,{children:(0,i.jsx)(p.z,{onClick:()=>$(n),colorScheme:"red",children:"Leave Group"})})]})]})]})},eo=e=>{var t,s,l;let{loggedUser:d,fetchAgain:h,setFetchAgain:x}=e,[p,g]=(0,a.useState)([]),[f,y]=(0,a.useState)(!1),[C,b]=(0,a.useState)(""),[_]=(0,o.at)(),[v,k]=(0,a.useState)(!1),F=(0,j.p)(),{selectedChat:I,setSelectedChat:A,user:q,notification:z,setNotification:O}=(0,E.g)();(0,a.useEffect)(()=>{P()},[I]);let P=async()=>{if(I)try{y(!0);let{data:e}=await m.Z.get("http://localhost:8000/api/v1/message/".concat(I._id),{withCredentials:!0});g(e.message),y(!1),r.emit("join chat",I._id)}catch(e){F({title:"Error Occurred!",description:"Failed to Load the Messages",status:"error",duration:5e3,isClosable:!0,position:"bottom"})}},G=async e=>{if("Enter"===e.key&&C)try{b("");let e=await _({content:C,chatId:I});r.emit("new message",e.data.message),g([...p,e.data.message])}catch(e){F({title:"Error Occurred!",description:"Failed to send the Message",status:"error",duration:5e3,isClosable:!0,position:"bottom"})}};return(0,a.useEffect)(()=>{(r=(0,Y.ZP)("http://localhost:8000")).emit("setup",d),r.on("connected",()=>k(!0))},[]),(0,a.useEffect)(()=>{P(),n=I},[I]),(0,a.useEffect)(()=>{r.on("message received",e=>{n&&n._id===e.chat._id?g(t=>t.find(t=>t._id===e._id)?t:[...t,e]):z.includes(e)||(O([e,...z]),x(!h))})},[p]),(0,i.jsx)(i.Fragment,{children:I?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(u.x,{fontSize:{base:"28px",md:"30px"},paddingBlock:3,paddingX:2,width:"100%",fontFamily:"Work sans",display:"flex",justifyContent:{base:"space-between"},alignItems:"center",children:[(0,i.jsx)(T.h,{display:{base:"flex",md:"none"},icon:(0,i.jsx)(U.R,{}),onClick:()=>A("")}),I.isGroupChat?(0,i.jsxs)(i.Fragment,{children:[I.chatName.toUpperCase(),(0,i.jsx)(ea,{user:d,fetchAgain:h,setFetchAgain:x,fetchMessages:P})]}):(0,i.jsxs)(i.Fragment,{children:[(t=I.users)&&!(t.length<2)?(null===(s=t[0])||void 0===s?void 0:s._id)===(null==d?void 0:d._id)?t[1].name:t[0].name:"Click on a user to start chatting",(0,i.jsx)(ei,{user:(l=I.users)&&!(l.length<2)?l[0]._id===d._id?l[1]:l[0]:"Click on a user to start chatting"})]})]}),(0,i.jsxs)(c.xu,{display:"flex",flexDirection:"column",justifyContent:"flex-end",padding:3,background:"#E8E8E8",width:"100%",height:"100%",borderRadius:"lg",overflowY:"hidden",children:[f?(0,i.jsx)(N.$,{size:"xl",w:20,h:20,alignSelf:"center",margin:"auto"}):(0,i.jsx)("div",{className:"messages",children:(0,i.jsx)(D,{user:d,messages:p})}),(0,i.jsx)(w.NI,{onKeyDown:G,isRequired:!0,mt:3,children:(0,i.jsx)(S.I,{variant:"filled",background:"#E0E0E0",placeholder:"Enter a message..",value:C,onChange:e=>{b(e.target.value)}})})]})]}):(0,i.jsx)(c.xu,{display:"flex",alignItems:"center",justifyContent:"center",h:"100%",children:(0,i.jsx)(u.x,{fontSize:"3xl",pb:3,fontFamily:"Work sans",children:"Click on a user to start chatting"})})})},el=e=>{let{loggedUser:t,fetchAgain:s,setFetchAgain:r}=e,{selectedChat:n}=(0,E.g)();return(0,a.useEffect)(()=>{},[s]),(0,i.jsx)(c.xu,{display:{base:n?"flex":"none",md:"flex"},alignItems:"center",flexDirection:"column",padding:3,bg:"white",width:{base:"100%",md:"68%"},borderRadius:"lg",borderWidth:"1px",children:(0,i.jsx)(eo,{loggedUser:t,fetchAgain:s,setFetchAgain:r})})},ed=s(99890),ec=s(17458),eh=s(29824),eu=s(39467),ex=s(96554),ep=s(56206),em=s(22601),eg=s(6920),ej=s(45079),ef=s(96247);let{Skeleton:ey,Stack:eC}=s(97349);var eb=()=>(0,i.jsxs)(eC,{children:[(0,i.jsx)(ey,{height:"20px"}),(0,i.jsx)(ey,{height:"20px"}),(0,i.jsx)(ey,{height:"20px"}),(0,i.jsx)(ey,{height:"20px"}),(0,i.jsx)(ey,{height:"20px"}),(0,i.jsx)(ey,{height:"20px"}),(0,i.jsx)(ey,{height:"20px"}),(0,i.jsx)(ey,{height:"20px"}),(0,i.jsx)(ey,{height:"20px"}),(0,i.jsx)(ey,{height:"20px"}),(0,i.jsx)(ey,{height:"20px"}),(0,i.jsx)(ey,{height:"20px"}),(0,i.jsx)(ey,{height:"20px"}),(0,i.jsx)(ey,{height:"20px"}),(0,i.jsx)(ey,{height:"20px"}),(0,i.jsx)(ey,{height:"20px"}),(0,i.jsx)(ey,{height:"20px"}),(0,i.jsx)(ey,{height:"20px"}),(0,i.jsx)(ey,{height:"20px"}),(0,i.jsx)(ey,{height:"20px"}),(0,i.jsx)(ey,{height:"20px"})]}),e_=e=>{let{fetchAgain:t,setFetchAgain:s}=e,[r,n]=(0,a.useState)(""),[h,x]=(0,a.useState)([]),[j,f]=(0,a.useState)(!1),[C,_]=(0,a.useState)({}),{data:w,isSuccess:k}=(0,o._1)(),[F]=(0,o._y)(),[I]=(0,o.ze)(),[A,O]=(0,a.useState)(!1),P=(0,l.useRouter)(),{isOpen:G,onOpen:T,onClose:U}=(0,g.q)(),{selectedChat:L,setSelectedChat:Z,notification:B,setNotification:W}=(0,E.g)(),D=async()=>{if(f(!0),!r){f(!1);return}try{f(!0);let{data:e}=await m.Z.get("http://localhost:8000/api/v1/search?search=".concat(r),{withCredentials:!0});x(e.users),f(!1)}catch(e){d.Am.error("Some unexpected error occured: ".concat(e)),f(!1)}},Y=async e=>{try{O(!0);let t=await I({userId:e});t.data&&t.data.success?(Z(t.data.chat1),s(e=>!e),U()):d.Am.error(t.error.message)}catch(e){d.Am.error("Some unexpected error: ".concat(e))}finally{O(!1)}},M=async e=>{e.preventDefault(),f(!0);try{let e=await F();e.data&&e.data.success?(d.Am.success(e.data.message),f(!1),P.push("/login")):e.error&&!e.error.data.success&&(d.Am.error(e.error.data.message),f(!1))}catch(e){f(!1),d.Am.error("An error occurred during logout.")}};return(0,a.useEffect)(()=>{w&&k&&_(w.user1)},[w,k]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(c.xu,{display:"flex",justifyContent:"space-between",alignItems:"center",background:"#3498db",padding:"10px",children:[(0,i.jsx)(R.u,{label:"Search Users to chat",hasArrow:!0,placement:"bottom-end",bg:"black",color:"white",children:(0,i.jsxs)(p.z,{_hover:{background:"#2980b9"},onClick:T,children:[(0,i.jsx)(eg.G,{icon:ej.wn1,style:{color:"blue",padding:"5px"}}),(0,i.jsx)(u.x,{display:{base:"none",md:"flex"},paddingX:"5px",children:"Search User"})]})}),(0,i.jsx)(u.x,{fontSize:"1xl",fontFamily:"work sans",color:"white",children:"IBY's ChatMaster"}),(0,i.jsx)("div",{children:(0,i.jsxs)(ed.v,{children:[(0,i.jsxs)(ec.j,{children:[(0,i.jsx)(q.q,{boxSize:"2rem",cursor:"pointer",verticalAlign:"middle",name:C.name,src:C.pic}),(0,i.jsx)(ef.v,{boxSize:"2rem",m:1})]}),(0,i.jsxs)(eh.q,{children:[(0,i.jsx)(ei,{user:C,children:(0,i.jsx)(eu.s,{children:"My Profile"})}),(0,i.jsx)(ex.R,{}),(0,i.jsx)(eu.s,{onClick:M,children:"Logout"})]})]})})]}),(0,i.jsx)(ep.d,{placement:"left",onClose:U,isOpen:G,children:(0,i.jsx)(y.Z,{children:(0,i.jsxs)(em.s,{children:[(0,i.jsx)(b.x,{borderBottomWidth:"1px",children:"Search Users"}),(0,i.jsxs)(v.f,{children:[(0,i.jsxs)(c.xu,{display:"flex",children:[(0,i.jsx)(S.I,{placeholder:"Search by name or email",mr:2,value:r,onChange:e=>{n(e.target.value),D()}}),(0,i.jsx)(p.z,{onClick:D,children:"Go"})]}),j?(0,i.jsx)(eb,{}):h.map(e=>(0,i.jsx)(z,{user:e,handleFunction:()=>Y(e._id)},e._id)),A&&(0,i.jsx)(N.$,{ml:"auto",d:"flex"})]})]})})})]})},ev=s(50374),ew=()=>{let[e,t]=(0,a.useState)(!0),[s,r]=(0,a.useState)({}),{data:n,isSuccess:d}=(0,o._1)(),[h]=(0,o._y)();(0,l.useRouter)();let[u,x]=(0,a.useState)(""),[p,m]=(0,a.useState)("");(0,a.useEffect)(()=>{t(!0),n&&d&&r(n.user1),t(!1)},[n,d]);let[g,j]=(0,a.useState)(!1);return(0,i.jsx)(i.Fragment,{children:e?(0,i.jsx)(ev.Z,{}):(0,i.jsxs)("div",{style:{width:"100%"},children:[s&&(0,i.jsx)(e_,{fetchAgain:g,setFetchAgain:j}),(0,i.jsxs)(c.xu,{display:"flex",justifyContent:"space-between",width:"100%",height:"91.5vh",padding:"10px",children:[s&&(0,i.jsx)(G,{loggedUser:s,fetchAgain:g,setFetchAgain:j}),s&&(0,i.jsx)(el,{loggedUser:s,fetchAgain:g,setFetchAgain:j})]})]})})}},50374:function(e,t,s){"use strict";var r=s(57437);s(2265);var n=s(17757),i=s.n(n);t.Z=()=>(0,r.jsx)("div",{className:i().loader,children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",viewBox:"0 0 100 100",children:(0,r.jsx)("circle",{cx:"50",cy:"50",r:"45",stroke:"#3498db",strokeWidth:"5",fill:"none",strokeDasharray:"283",strokeDashoffset:"75",children:(0,r.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"1s",repeatCount:"indefinite"})})})})},85789:function(e,t,s){"use strict";s.d(t,{g:function(){return a}});var r=s(57437),n=s(2265);let i=(0,n.createContext)(),a=()=>(0,n.useContext)(i);t.default=e=>{let{children:t}=e,[s,a]=(0,n.useState)(),[o,l]=(0,n.useState)([]),[d,c]=(0,n.useState)([]);return(0,r.jsx)(i.Provider,{value:{selectedChat:s,setSelectedChat:a,chats:o,setChats:l,notification:d,setNotification:c},children:t})}},77699:function(e,t,s){"use strict";s.d(t,{B5:function(){return f},PZ:function(){return h},Vt:function(){return g},YA:function(){return l},_1:function(){return u},_y:function(){return c},at:function(){return C},fU:function(){return d},iJ:function(){return i},ny:function(){return a},qQ:function(){return o},wv:function(){return j},y3:function(){return y},ze:function(){return p}});var r=s(8507),n=s(36074);let i=(0,r.LC)({reducerPath:"authApi",baseQuery:(0,n.ni)({baseUrl:"http://localhost:8000/api/v1/"}),endpoints:e=>({createUser:e.mutation({query:e=>({url:"register",method:"POST",body:e,header:{"Content-Type":"multipart/form-data"},credentials:"include"})}),verifyEmail:e.mutation({query:e=>({url:"verify-email",method:"POST",body:e,headers:{"Content-type":"application/json"}})}),login:e.mutation({query:e=>({url:"login",method:"POST",body:e,headers:{"Content-type":"application/json"},credentials:"include"})}),forgotPass:e.mutation({query:e=>({url:"forgotPass",method:"POST",body:e,headers:{"Content-type":"application/json"},credentials:"include"})}),logout:e.mutation({query:()=>({url:"logout/",method:"POST",body:{},headers:{"Content-type":"application/json"},credentials:"include"})}),resetPass:e.mutation({query:e=>{let{token:t,formData:s}=e;return{url:"resetPass/".concat(t.token),method:"POST",body:s,headers:{"Content-type":"application/json"},credentials:"include"}}}),loadProf:e.query({query:()=>({url:"me",method:"GET",credentials:"include"})}),searchUsers:e.query({query:e=>({url:"users",method:"GET",params:{search:e},credentials:"include"})}),accessChat:e.mutation({query:e=>({url:"chat/accessChat",method:"POST",body:e,headers:{"Content-type":"application/json"},credentials:"include"})}),myChats:e.query({query:e=>({url:"chat/connectedChats",methode:"GET",credentials:"include"})}),createGC:e.mutation({query:e=>({url:"chat/createGC",method:"POST",body:e,headers:{"Content-type":"application/json"},credentials:"include"})}),renameGC:e.mutation({query:e=>({url:"chat/renameGC",method:"PUT",body:e,headers:{"Content-type":"application/json"},credentials:"include"})}),addToGC:e.mutation({query:e=>({url:"chat/addtoGC",method:"PUT",body:e,headers:{"Content-type":"application/json"},credentials:"include"})}),removeFromGC:e.mutation({query:e=>({url:"chat/removefromGC",method:"DELETE",body:e,headers:{"Content-type":"application/json"},credentials:"include"})}),sendMessage:e.mutation({query:e=>({url:"message/",method:"POST",body:e,headers:{"Content-type":"application/json"},credentials:"include"})}),fetchMessage:e.query({query:e=>({url:"message/".concat(e.userId),method:"GET",credentials:"include"})})})}),{useCreateUserMutation:a,useVerifyEmailMutation:o,useLoginMutation:l,useForgotPassMutation:d,useLogoutMutation:c,useResetPassMutation:h,useLoadProfQuery:u,useSearchUsersQuery:x,useAccessChatMutation:p,useMyChatsQuery:m,useCreateGCMutation:g,useRenameGCMutation:j,useAddToGCMutation:f,useRemoveFromGCMutation:y,useSendMessageMutation:C,useFetchMessageQuery:b}=i},89097:function(){},17757:function(e){e.exports={loader:"Loader_loader__dqeaY"}},23622:function(e){e.exports={container:"chat_container___jSPw",chatList:"chat_chatList__2ZKY_",chatWindow:"chat_chatWindow__vYddI",newGroupChatButton:"chat_newGroupChatButton__NIjhW",userItem:"chat_userItem__2_a_x",chatContent:"chat_chatContent__il94H",chatInput:"chat_chatInput__drZvn"}}}]);